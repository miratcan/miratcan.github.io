<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    @font-face {
      font-family: Dos;
      src: url(/dos.ttf);
    }

    :root {
      --c0: #000000;
      --c1: #000080;
      --c2: #00aaaa;
      --c3: #00aa00;
      --c4: #aa00aa;
      --c5: #aa0000;
      --c6: #aa5500;
      --c7: #aaaaaa;
      --c8: #555555;
      --c9: #5555ff;
      --c10: #1fdbdb;
      --c12: #55ff55;
      --c12: #ff55ff;
      --c13: #ff5555;
      --c14: #ffff55;
      --c15: #ffffff;
      --ln: 2px;
      --gap: 1rem;
      --fs: 16px;
      --lh: 24px;
    }

    em {
      color: var(--c6);
      font-style: normal;
    }

    strong {
      font-weight: normal;
      color: var(--c15);
    }

    ::-webkit-scrollbar {
      width: var(--gap)
    }

    ::-webkit-scrollbar-track {
      background: var(--c7);
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
      background: var(--c8);
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
      background: var(--c4);
    }

    .screen *:not(pre) {
      font-size: inherit;
      line-height: inherit;
    }

    .wrapper {
      max-width: 800px;
      margin: 0 auto;
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--c0);
      color: var(--c7);
      font-family: 'Dos', monospace;
      font-size: var(--fs);
      line-height: var(--lh);
      vertical-align: center;
      font-smooth: never;
      -webkit-font-smoothing: none;
      letter-spacing: -1px;
    }

    pre {
      font-family: inherit;
      padding: 1rem;
      background: #111;
      border: 1px solid gray;
      overflow-y: scroll;
    }

    code {
      color: var(--c3);
      font-family: inherit;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    p,
    li,
    table,
    blockquote {
      font-weight: normal;
      margin: 0 0 1rem 0;
      font-family: inherit;
      font-size: inherit;
      line-height: inherit;
      letter-spacing: inherit;
    }

    li {
      margin: 0;
    }

    h1 {
      font-size: 1.4em;
      line-height: 1.73em;
      text-transform: uppercase;
      text-align: center;
    }

    h2 {
      font-size: 1.3em;
      line-height: 1.61em;
      border-bottom: 4px double var(--c4);
    }

    h3 {
      line-height: 1.48em;
    }

    h1,
    h2,
    h3 {
      color: var(--c14);
    }

    blockquote {
      padding: 0 1em;
      border-left: 2px solid #B2A497;
      border-bottom: 2px solid #B2A497;
    }

    .youtube-video {
      aspect-ratio: 16 / 9;
      width: 100%;
    }

    ul#articles li {
      list-style-type: square;
      color: var(--c2);
    }

    ul#articles {
      padding: 0 0 0 1em;
    }

    nav a {
      text-decoration: none;
      color: var(--c0);
    }

    nav a span {
      color: var(--c5);
    }

    a.active {
      text-decoration: underline;
    }

    a.tag {
      color: darkolivegreen;
      justify-content: center;
    }

    main,
    header {
      margin: 0 auto;
      box-sizing: border-box;
    }

    main {
      margin: 1rem 0;
      padding: 0 1rem;
    }

    main a {
      color: var(--c10);
      text-decoration: underline;
    }

    nav {
      background: var(--c7);
      padding: 0 1rem;
    }

    nav .wrapper {
      display: flex;
      align-content: center;
      gap: 0 1rem;
      flex-wrap: wrap;

    }

    main nav,
    table {
      background: transparent;
      padding: 1rem;
      border: 4px double var(--c3);
      margin: 0 auto;
    }

    main nav a {
      // color: var(--c2);
    }

    .pagination {
      text-align: center;
    }

    p:has(> img:only-child) {
      display: flex;
      justify-content: center;
      border: calc(var(--ln) * 2) double var(--c3)
    }

    img {
      max-width: 80%;
    }

    @media only screen and (max-width: 500px) {

      header,
      main {
        padding: 1em;
      }

      ul#articles li a {
        display: block
      }
    }

    main> :first-child {
      margin-top: 0;
    }
  </style>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="content-language" content="en">

  
  
  <script type="text/javascript">
  (function (c, l, a, r, i, t, y) {
    c[a] = c[a] || function () {(c[a].q = c[a].q || []).push(arguments)};
    t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
    y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
  })(window, document, "clarity", "script", "p841gcyf0p");
</script>
  <!-- Primary Meta Tags -->
  <title>Genetic Algorithms: Finding Good Enough Solutions â€” Mirat Can Bayrak</title>
  <link rel='canonical' href="https://mirat.dev/articles/genetic-algorithms-finding-good-enough-solutions/">
  
  <meta name="title" content="Genetic Algorithms: Finding Good Enough Solutions - Mirat Can
  Bayrak" />
  <meta name="description" content="How genetic algorithms use evolution-inspired processes to find good-enough solutions for complex optimization problems without brute force." />
  <meta property="og:type" content="website" />
<meta property="og:url" content="https://mirat.dev/articles/genetic-algorithms-finding-good-enough-solutions" />
<meta property="og:title" content="Genetic Algorithms: Finding Good Enough Solutions - Mirat Can
  Bayrak" />
<meta property="og:description" content="How genetic algorithms use evolution-inspired processes to find good-enough solutions for complex optimization problems without brute force." />
<meta property="og:image" content="https://mirat.dev/articles/genetic-algorithms-finding-good-enough-solutions" />
  <meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content="https://mirat.dev/articles/genetic-algorithms-finding-good-enough-solutions" />
<meta property="twitter:title" content="Genetic Algorithms: Finding Good Enough Solutions - Mirat Can
  Bayrak" />
<meta property="twitter:description" content="How genetic algorithms use evolution-inspired processes to find good-enough solutions for complex optimization problems without brute force." />
<meta property="twitter:image" content="https://mirat.dev/articles/genetic-algorithms-finding-good-enough-solutions" />
  
  
  
    <link rel="stylesheet" href="../../static/pygments.css">
  

</head>

<body>
  <div class="screen">
    <header>
      <nav>
  <div class="wrapper">
    <a  href="/"><span>H</span>ome</a>
    
    <a  class="active"  href="/articles/"><span>A</span>rticles</a>
    

    
    <a  href="/projects/"><span>P</span>rojects</a>
    

    
    <a  href="/links/"><span>L</span>inks</a>
    

    
    <a  href="/products/"><span>W</span>ishlist</a>
    

    <a target="_blank" href="/resume/resume.html"><span>R</span>esume</a>
  </div>
</nav>
    </header>
    <main>
      <div class="wrapper">
        

<h1>Genetic Algorithms: Finding Good Enough Solutions</h1>
<p>I know we live in the AI era; it almost feels like every article must be about it. Yet computer science has algorithms that can solve many problems brilliantly. I believe two of the most important are "Genetic Algorithms" and "Wave Function Collapse." I will talk about wave function collapse in another article, but here I want to discuss genetic algorithms.</p>
<h2>What Are Genetic Algorithms Good For?</h2>
<p>When you face a problem, you may not need the perfect solution. If you want the absolute best answer, you can use brute force (trial and error); however, trying every possibility one by one is often practically impossible. Let me give you a few examples:</p>
<ul>
<li>Visiting every store in a shopping mall with the least walking distance. (My wife does this automatically, but still)</li>
<li>Determining the most efficient room layout (furniture placement).</li>
<li>Planning a tour among cities to visit on vacation with the shortest route. (I prefer sticking to one place and having fries and beer until the vacation ends, but someone must need this)</li>
<li>Scheduling daily tasks in an order that finishes them in the shortest time.</li>
<li>Meeting all household needs in the best way with a limited budget.</li>
</ul>
<p>This is where genetic algorithms come in: Instead of trying every possibility one by one, they produce "good enough" solutions through an evolution process inspired by nature.</p>
<h2>How Does a Genetic Algorithm Work?</h2>
<p>Let's proceed with a very simple problem and its solution. Suppose we are trying to obtain 6 single-digit numbers that sum to 30. Yes, I know this can be solved with brute force, but let's keep it simple to learn.</p>
<p>Our possible solutions would look like this:</p>
<pre><code>5 + 5 + 5 + 5 + 5 + 5 = 30
7 + 3 + 5 + 1 + 9 + 5 = 30
1 + 1 + 1 + 9 + 9 + 9 = 30
...
...
</code></pre>
<p>To solve a problem with a genetic algorithm, you must be able to represent solution candidates (i.e., individuals) in a suitable way, usually as an array or similar structure. In fact, in most applications this representation is a one-dimensional vector (array) because it is easier to process.</p>
<p>In this example, we can express our solution sets as arrays like this:</p>
<div class="hll"><pre><span></span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">]]</span>
</pre></div>
<p>These are our possible solution sets that sum to 30. All these arrays are arranged to give a total of 30. So what will we do to reach a solution with a genetic algorithm?</p>
<h3>1. Creating a Population</h3>
<video width="100%" controls autoplay loop muted>
  <source src="population.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video><p>Creating a population simply means producing random solution sets.</p>
<div class="hll"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">random</span><span class="w"> </span><span class="kn">import</span> <span class="n">randint</span>

<span class="n">POPULATION_SIZE</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">NUM_OF_GENES</span> <span class="o">=</span> <span class="mi">6</span>

<span class="c1"># Function that produces random digits from 0-9</span>
<span class="n">figure</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>

<span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">POPULATION_SIZE</span><span class="p">):</span>
    <span class="n">individual</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NUM_OF_GENES</span><span class="p">):</span>
        <span class="n">individual</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">figure</span><span class="p">())</span>
    <span class="n">population</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">individual</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
</pre></div>
<p>The screen output will look something like this:</p>
<pre><code>[[8, 6, 3, 3, 4, 2], [2, 8, 4, 6, 6, 3], [8, 9, 3, 4, 4, 2]]
</code></pre>
<p>Each row is a solution candidate. Now we will evaluate them.</p>
<h3>2. Fitness Function</h3>
<p><img src="fitness-function.jpg" alt="Fitness Function Diagram"></p>
<p>The next stage is writing a function that measures how fit each individual in the population is. This is called the fitness function.</p>
<p>With a simple change, we score how close the individual is to the target we are trying to reach.</p>
<p>Why do we do this?</p>
<p>By scoring all individuals, we can determine whose children will be passed to the next generation.</p>
<p>In our example, the fitness should give a higher score the closer the sum of the array is to 30. In Python, it would be written like this:</p>
<div class="hll"><pre><span></span><span class="n">TARGET_SUM</span> <span class="o">=</span> <span class="mi">30</span>

<span class="k">def</span><span class="w"> </span><span class="nf">calculate_fitness</span><span class="p">(</span><span class="n">individual</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">individual</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">TARGET_SUM</span> <span class="o">-</span> <span class="n">total</span><span class="p">)</span>

<span class="n">fitness_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">calculate_fitness</span><span class="p">(</span><span class="n">individual</span><span class="p">)</span> <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">population</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">individual</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">population</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Individual </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">individual</span><span class="si">}</span><span class="s2"> - Fitness: </span><span class="si">{</span><span class="n">fitness_values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
<p>In the output below, Individual 2 and Individual 3 are closer to our solution. The smaller the fitness, the closer our solution is to perfect.</p>
<pre><code>Individual 1: [8, 6, 3, 3, 4] - Fitness: 6
Individual 2: [2, 8, 4, 6, 6] - Fitness: 4
Individual 3: [8, 9, 3, 4, 4] - Fitness: 4
</code></pre>
<h3>3. Selection Stage</h3>
<p>Now we move to the next stage of our genetic algorithm: In this stage, we will determine how fit the individuals in the population are and decide whose children will pass to the next generation.</p>
<p>There are various methods used when making this decision: Tournament Selection, Roulette Selection, Elitist Selection, etc. I will not go into all of them to avoid lengthening the article, but we will use Tournament Selection here.</p>
<p>When making Tournament Selection, the decision is not just about selecting the best individuals.</p>
<p>Just like in real life, some struggle for everything while others can progress far enough to reproduce just because they are lucky.</p>
<p>I think the part I love about genetic algorithms might be that they work like a small simulation of real life.</p>
<p>Anyway, this stage of the genetic algorithm is called selection.</p>
<p>Individuals with higher fitness values are more likely to pass their genes to the next generation. However, this does not mean that individuals with lower fitness values will be completely excluded.</p>
<p>Because sometimes low-fitness individuals also contribute to the process by preserving evolutionary diversity.</p>
<div class="hll"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="c1"># Fitness calculation function</span>
<span class="k">def</span><span class="w"> </span><span class="nf">calculate_fitness</span><span class="p">(</span><span class="n">individual</span><span class="p">):</span>
    <span class="c1"># We wrote this above.</span>

<span class="k">def</span><span class="w"> </span><span class="nf">tournament_selection</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">tournament_size</span><span class="p">):</span>
    <span class="n">selected</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Get the best half through tournament selection</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">population</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span><span class="p">):</span>
        <span class="c1"># Select &#39;tournament_size&#39; random individuals</span>
        <span class="n">tournament</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">tournament_size</span><span class="p">)</span>

        <span class="c1"># Select the best individual in the tournament (the one with the highest fitness)</span>
        <span class="n">best</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">tournament</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">calculate_fitness</span><span class="p">)</span>
        <span class="n">selected</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">best</span><span class="p">)</span>

    <span class="c1"># Select the remaining half randomly</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">population</span><span class="p">):</span>
        <span class="n">individual</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
        <span class="n">selected</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">individual</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">selected</span>

<span class="c1"># Example usage:</span>
<span class="n">population</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>  <span class="c1"># Individual 1</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>  <span class="c1"># Individual 2</span>
    <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>  <span class="c1"># Individual 3</span>
    <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>  <span class="c1"># Individual 4</span>
    <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>  <span class="c1"># Individual 5</span>
    <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>  <span class="c1"># Individual 6</span>
<span class="p">]</span>

<span class="n">tournament_size</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">new_population</span> <span class="o">=</span> <span class="n">tournament_selection</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">tournament_size</span><span class="p">)</span>

<span class="c1"># Print the new population</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">individual</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">new_population</span><span class="p">):</span>
    <span class="n">fitness</span> <span class="o">=</span> <span class="n">calculate_fitness</span><span class="p">(</span><span class="n">individual</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Individual </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">individual</span><span class="si">}</span><span class="s2"> - Fitness: </span><span class="si">{</span><span class="n">fitness</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
<h3>4. Crossover Stage (Marriage)</h3>
<p>Now we have a list of selected individuals, what we will do is pair these individuals.</p>
<p>There are methods like single-point crossover, two-point crossover, etc., but we will use single-point crossover in this article.</p>
<p>So how do we do crossover? By mixing the genes of selected individuals to produce new children.</p>
<p>In the simplest form, we can crossover the genes of two individuals like this:</p>
<div class="hll"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">random</span><span class="w"> </span><span class="kn">import</span> <span class="n">randint</span>

<span class="k">def</span><span class="w"> </span><span class="nf">crossover</span><span class="p">(</span><span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span><span class="p">):</span>
    <span class="n">crossover_point</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">NUM_OF_GENES</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">child</span> <span class="o">=</span> <span class="n">parent1</span><span class="p">[:</span><span class="n">crossover_point</span><span class="p">]</span> <span class="o">+</span> <span class="n">parent2</span><span class="p">[</span><span class="n">crossover_point</span><span class="p">:]</span>
    <span class="k">return</span> <span class="n">child</span>
</pre></div>
<p>For example, we can expand from the previous generation to collect individuals and create a new generation from their children like this:</p>
<div class="hll"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">create_new_generation</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">tournament_size</span><span class="p">):</span>
    <span class="n">selected_parents</span> <span class="o">=</span> <span class="n">tournament_selection</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">tournament_size</span><span class="p">)</span>
    <span class="n">new_generation</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Create new individuals through crossover</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_parents</span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">parent1</span> <span class="o">=</span> <span class="n">selected_parents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">parent2</span> <span class="o">=</span> <span class="n">selected_parents</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_parents</span><span class="p">)</span> <span class="k">else</span> <span class="n">selected_parents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">child</span> <span class="o">=</span> <span class="n">crossover</span><span class="p">(</span><span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span><span class="p">)</span>
        <span class="n">new_generation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_generation</span>
</pre></div>
<h3>5. Mutation</h3>
<p>Just like in evolution, sometimes random changes happen. These can cause even weak individuals to sometimes turn into very strong individuals.</p>
<p>Mutating an individual would be something like this:</p>
<div class="hll"><pre><span></span><span class="n">MUTATION_RATE</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="k">def</span><span class="w"> </span><span class="nf">mutate</span><span class="p">(</span><span class="n">individual</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">MUTATION_RATE</span> <span class="o">*</span> <span class="mi">100</span><span class="p">:</span>
        <span class="n">mutation_point</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">NUM_OF_GENES</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">individual</span><span class="p">[</span><span class="n">mutation_point</span><span class="p">]</span> <span class="o">=</span> <span class="n">figure</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">individual</span>
</pre></div>
<p>If we add this mutation to our new generation creation function:</p>
<div class="hll"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">create_new_generation</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">tournament_size</span><span class="p">):</span>
    <span class="n">selected_parents</span> <span class="o">=</span> <span class="n">tournament_selection</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">tournament_size</span><span class="p">)</span>
    <span class="n">new_generation</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Create new individuals through crossover</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_parents</span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">parent1</span> <span class="o">=</span> <span class="n">selected_parents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">parent2</span> <span class="o">=</span> <span class="n">selected_parents</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_parents</span><span class="p">)</span> <span class="k">else</span> <span class="n">selected_parents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># Create new child through crossover</span>
        <span class="n">child</span> <span class="o">=</span> <span class="n">crossover</span><span class="p">(</span><span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span><span class="p">)</span>

        <span class="c1"># Apply mutation</span>
        <span class="n">mutated_child</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

        <span class="c1"># Add to new generation</span>
        <span class="n">new_generation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mutated_child</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_generation</span>
</pre></div>
<h3>6. Loop: Continuing Evolution</h3>
<p>Now we have everything we need to run an evolution. We will try to find the best solution by applying all these steps repeatedly.</p>
<div class="hll"><pre><span></span><span class="k">for</span> <span class="n">generation</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>  <span class="c1"># Run for 100 generations</span>
    <span class="c1"># Calculate fitness values of the population</span>
    <span class="n">fitness_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">calculate_fitness</span><span class="p">(</span><span class="n">individual</span><span class="p">)</span> <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">population</span><span class="p">]</span>

    <span class="c1"># Find the best individual</span>
    <span class="n">best_fit</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">fitness_values</span><span class="p">)</span>
    <span class="n">best_index</span> <span class="o">=</span> <span class="n">fitness_values</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">best_fit</span><span class="p">)</span>
    <span class="n">best_individual</span> <span class="o">=</span> <span class="n">population</span><span class="p">[</span><span class="n">best_index</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generation </span><span class="si">{</span><span class="n">generation</span><span class="si">}</span><span class="s2">: Best Fitness = </span><span class="si">{</span><span class="n">best_fit</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">best_individual</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">best_fit</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">break</span>  <span class="c1"># Perfect solution found</span>

    <span class="c1"># Select new population with tournament selection</span>
    <span class="n">selected</span> <span class="o">=</span> <span class="n">tournament_selection</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">TOURNAMENT_SIZE</span><span class="p">)</span>
    <span class="n">next_generation</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Create new generation with crossover and mutation</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">POPULATION_SIZE</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">parent1</span> <span class="o">=</span> <span class="n">selected</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">parent2</span> <span class="o">=</span> <span class="n">selected</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span> <span class="k">else</span> <span class="n">selected</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">child1</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">crossover</span><span class="p">(</span><span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span><span class="p">))</span>
        <span class="n">child2</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">crossover</span><span class="p">(</span><span class="n">parent2</span><span class="p">,</span> <span class="n">parent1</span><span class="p">))</span>

        <span class="n">next_generation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child1</span><span class="p">)</span>
        <span class="n">next_generation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child2</span><span class="p">)</span>

    <span class="c1"># Assign new generation as current population</span>
    <span class="n">population</span> <span class="o">=</span> <span class="n">next_generation</span>
</pre></div>
<h2>Explanations</h2>
<ul>
<li><strong>Initial Population</strong>: The <code>create_initial_population</code> function creates a population of random individuals of a certain size. Each individual contains random values between 0-9.</li>
<li><strong>Fitness Calculation</strong>: In each generation, the fitness values of all individuals in the population are calculated. Fitness represents the sum of each individual's genetic information.</li>
<li><strong>Tournament Selection</strong>: The <code>tournament_selection</code> function selects <code>tournament_size</code> random individuals from the population and chooses the one with the best fitness value among them.</li>
<li><strong>Crossover</strong>: The <code>crossover</code> function produces a child individual from two parents. The child is formed by combining the parents' genetic information.</li>
<li><strong>Mutation</strong>: The <code>mutate</code> function randomly changes each individual with a certain probability (mutation rate).</li>
<li><strong>Genetic Algorithm Loop</strong>: The algorithm runs for a certain number of generations, selecting the best individuals in each generation and creating a new generation.</li>
</ul>
<h2>Example Output</h2>
<p>The output will show the best fitness value in each generation and the best individual in that generation. For example:</p>
<pre><code>Generation 0: Best Fitness = 18 - [8, 6, 3, 3, 4]
Generation 1: Best Fitness = 20 - [9, 4, 3, 2, 2]
Generation 2: Best Fitness = 23 - [7, 7, 4, 5, 2]
...
Generation 99: Best Fitness = 0 - [0, 0, 0, 0, 0]
</code></pre>
<p>This structure will enable the population to produce better solutions over time. If there is interest in the article, I will share fully working code. I would love to hear your feedback!</p>

04/2025


  <ul>
    <li>
        <a href="../tag/python-notes/">
          All posts tagged python-notes
        </a>
      </li>
    
  </ul>



      </div>
    </main>
  </div>
  
<script src="https://utteranc.es/client.js"
        repo="miratcan/miratcan.github.io"
        issue-term="title"
        label="Comment"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

</body>

</html>
